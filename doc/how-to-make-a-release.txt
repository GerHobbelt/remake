$Id: how-to-make-a-release.txt,v 1.11 2007/02/28 05:33:46 rockyb Exp $

I'm absent-minded and use this for making general a release, posting
announcements, and updating site documentation. It's possible there's
information for other purposes such as for packages. However your
milage may vary.

- Let people know of a pending release,
  e.g. bashdb-remake@lists.sf.net; no major changes before
  release, please

- test on lots of platforms; sourceforge compile farm, for example

- "make distcheck" should work

- Go over Changelog and add NEWS. Update date of release.

- Remove "cvs" from configure.ac's release name. E.g.
    AC_INIT(remake,3.80+dbg-0.3cvs,bashdb-remake@lists.sourceforge.net)
                               ^^^
    ...

- Make sure sources are current and checked in:
    cvs update -dPA .
    cvs commit .

- autogen.sh && make && make check

- recreate the documentation so we can put it on the public website:
  (In theory be could/should be done after the release but if there's
  a problem we want to know about it beforehand)

  cd doc
  make mdb.html make.html mdb.dvi
  cd doxygen; ./run_doxygen

- Tag release in CVS: 
   cd ../.. # Or get in top_srcdir
   cvs log -h configure.ac   # To see tags
   cvs tag release_<0_6x> . (replace <0_6x> with the right value)

- "make distcheck" one more time

- Upload files to upload.sourceforge.net, 
  ftp upload.sourceforge.net, 
    user anonymous, 
    password (your email address)
  cd incoming 
  bin
  hash
  mput remake-3.80+dbg-0.*.tar.*
  quit

- Go to sourceforge Release section and make release
   http://sourceforge.net/project/admin/newrelease.php?package_id=120837&group_id=61395

- Update/Announce on Freshmeat:
   http://freshmeat.net/projects/remake/ "add release" generally

  The NEWS file is your friend.

- copy remake and mdb manual to web page:
     cd ../remake/doc && make make.html mdb.html
     scp mdb.html id@bashdb.sourceforge.net:/home/groups/b/ba/bashdb/htdocs/remake/
     scp make.html id@bashdb.sourceforge.net:/home/groups/b/ba/bashdb/htdocs/remake/
- copy doxygen HTML to web pages:
  cd doc/doxygen/html
  scp *.html id@bashdb.sourceforge.net:/home/groups/b/ba/bashdb/htdocs/remake/doxygen/

- Remove old cvs versions 

- Bump version in configure.ac and add "cvs". See place above in 
  removal. 


